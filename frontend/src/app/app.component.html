<mat-toolbar color="primary" class="main-header">
  <span routerLink="/shop/products" class="brand-name">Great Lakes Woodcraft</span>
  <span class="spacer"></span>
  
  <div class="nav-links">
    <button mat-button routerLink="/shop/products">Gallery</button>
    
    <button mat-icon-button routerLink="/shop/cart" matTooltip="Your Collection" 
            [matBadge]="cartItemCount$ | async" [matBadgeHidden]="(cartItemCount$ | async) === 0" matBadgeColor="accent">
      <mat-icon>shopping_cart</mat-icon>
    </button>

    <!-- Admin Links (Only if Logged In) -->
    <ng-container *ngIf="isLoggedIn$ | async">
      <button mat-button routerLink="/admin/dashboard" class="admin-link">
        <mat-icon>dashboard</mat-icon>
        Admin
      </button>
    </ng-container>

    <!-- Auth Actions -->
    <ng-container *ngIf="isLoggedIn$ | async; else loginBtn">
      <button mat-icon-button (click)="logout()" matTooltip="Logout">
        <mat-icon>logout</mat-icon>
      </button>
    </ng-container>
    
    <ng-template #loginBtn>
      <button mat-icon-button routerLink="/auth/login" matTooltip="Login">
        <mat-icon>account_circle</mat-icon>
      </button>
    </ng-template>
  </div>
</mat-toolbar>

<main class="content">
  <router-outlet></router-outlet>
</main>

<footer class="main-footer">
  <div class="footer-container">
    <div class="footer-column workshop-info">
      <h3>The Workshop</h3>
      <p>Handcrafting heirloom wood carvings in the heart of the Great Lakes. Each piece is carved from sustainably sourced local timber, telling a unique story of the Michigan forest.</p>
    </div>

    <div class="footer-column explorer-links">
      <h3>Explorer</h3>
      <ul>
        <li><a routerLink="/shop/products">The Gallery</a></li>
        <li><a routerLink="/about">The Artist</a></li>
        <li><a routerLink="/shop/cart">Your Collection</a></li>
        <li><a routerLink="/auth/login">Artisan Login</a></li>
      </ul>
    </div>

    <div class="footer-column pride-section">
      <h3>Great Lakes Pride</h3>
      <div class="mi-badge">
        <mat-icon>forest</mat-icon>
        <span>Proudly Crafted in Michigan</span>
      </div>
      <p class="copyright">&copy; 2026 Great Lakes Woodcraft. All rights reserved.</p>
    </div>
  </div>
</footer>
